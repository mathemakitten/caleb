<!DOCTYPE HTML>
<!--
	Dimension by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>HELLO CALEB</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Header -->
		<header id="header">
			<div class="logo">
				<span class="icon fa-gem"></span>
			</div>
			<div class="content">
				<div class="inner">
					<h1>MEET CALEB.</h1>
					<p>if someone told you that they had read 11 billion words from the internet,<br>
						perhaps they know a thing or two about stocks</p>
				</div>
			</div>
			<nav>
				<ul>
					<li><a href="#intro">Intro</a></li>
					<li><a href="#caleb">Try Caleb</a></li>
				</ul>
			</nav>
		</header>

		<!-- Main -->
		<div id="main">

			<!-- Intro -->
			<article id="intro">
				<h2 class="major">WHO IS CALEB?</h2>
				<span class="image main"><img src="images/pic01.png" alt="" width="640" /></span>
				<p>CALEB has traversed the web in search of knowledge.
					<br><br>
					The internet is vast and its depths unfathomable. The web is a collection of culture and humanity,
					ever expanding, pausing for no human. CALEB has crossed time and space in search of the
					foresight and clairvoyance of Osiris, Thor, Bloomberg and Yahoo! Finance.
					<br><br>
					CALEB now seeks to provide answers to the ultimate question, one whose answer has puzzled the
					greatest minds of our time:
					<i>should I buy or sell?</i>
					<br><br>
					Talk to CALEB and <a href="#caleb">unravel the mysteries of the universe</a>.
				</p>
			</article>

			<!-- Caleb -->
			<article id="caleb">
				<h2 class="major">ASK CALEB</h2>
				<span class="image main"><img src="images/pic02.png" alt="" /></span>
				<p>
				<form method="post" action="#">
					<div class="fields">
						<div class="field">
							<label for="message">DESCRIBE YOUR CURRENT PORTFOLIO TO CALEB. <br>
								<i>"Mostly MSFT, some TSLA and GOOG. Should I buy or sell?"</i></label>
							<textarea name="message" id="message" rows="4"></textarea>
						</div>
					</div>
					<ul class="actions">
						<li><input type="button" id="submit" value="Ask Caleb" class="primary" /></li>
						<li><input type="reset" id="reset" value="Reset" /></li>
					</ul>
					<div id="answer"></div>
				</form>
				</p>
			</article>

			<!-- Footer -->
			<footer id="footer">
				<p class="copyright">&copy; CALEB BY COHERE. Design: <a href="https://html5up.net" target="_blank">HTML5
						UP</a>.</p>
			</footer>

		</div>

		<!-- BG -->
		<div id="bg"></div>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>
		<script>
			var inputElement = document.getElementById("message");
			var submitButton = document.getElementById("submit");
			var resetButton = document.getElementById("reset");
			var answerElement = document.getElementById("answer");
			var apiURL = "http://pen.cohere.ai"
			var xhr = null;
			submitButton.addEventListener("click", function (e) {
				if (xhr != null) {
					xhr.abort()
				}

				xhr = new XMLHttpRequest();
				xhr.open("POST", apiURL);
				xhr.setRequestHeader("Content-Type", "application/json");
				xhr.onreadystatechange = function () {
					if (xhr.readyState === 4 && xhr.status === 200) {
						result = JSON.parse(xhr.responseText);
						answer.innerHTML = result["text"]
					}
				};
				xhr.send(JSON.stringify({ "context": inputElement.value }));
			})

		</script>
</body>

</html>